import{q as Jt,p as Gt,v as Mt,r as P,a0 as En,a1 as Dn,b as m,D as ft,a2 as jn,e as Wt,Q as Et,g as Lt,i as _n,R as Xn,a3 as Yn,a4 as Dt,a as pe,A as Ut,B as Bt,a5 as $n,x as nn,F as mt,k as De,o as le,w as g,l as Le,c as Be,G as In,d as Y,J as qn,s as zn,a6 as _t,f as Hn,n as tt,m as Ee,t as on}from"#entry";import{u as Cn,d as ht,e as an,f as Kt,m as xn,g as Jn,h as Gn,j as Wn,k as ln,l as Kn,n as Q,o as Vn,V as rn,c as It,F as Zn}from"./Dv-DsaCA.js";import{v as Zt,q as Qn,w as eo,t as to,s as no,L as oo,x as ao,V as se}from"./BjKJM1WQ.js";import{V as jt,a as K,d as xe,f as lo,b as Ne,c as Fe,e as nt}from"./HDF-tfVa.js";import{V as io,a as sn}from"./Do3iAHZB.js";const ro=Gt({...xn(),...jn(Jn(),["inline"])},"VCheckbox"),so=Jt()({name:"VCheckbox",inheritAttrs:!1,props:ro(),emits:{"update:modelValue":t=>!0,"update:focused":t=>!0},setup(t,e){let{attrs:o,slots:n}=e;const a=Mt(t,"modelValue"),{isFocused:l,focus:r,blur:u}=Cn(t),s=P(),i=En();return Zt(()=>{const[d,h]=Dn(o),b=ht.filterProps(t),x=an.filterProps(t);return m(ht,ft({ref:s,class:["v-checkbox",t.class]},d,b,{modelValue:a.value,"onUpdate:modelValue":D=>a.value=D,id:t.id||`checkbox-${i}`,focused:l.value,style:t.style}),{...n,default:D=>{let{id:_,messagesId:T,isDisabled:H,isReadonly:N,isValid:R}=D;return m(an,ft(x,{id:_.value,"aria-describedby":T.value,disabled:H.value,readonly:N.value},h,{error:R.value===!1,modelValue:a.value,"onUpdate:modelValue":M=>a.value=M,onFocus:r,onBlur:u}),n)}})}),Kt({},s)}});/*!
  * vue-draggable-next v2.3.0
  * (c) 2025 Anish George
  * @license MIT
  */function uo(){return typeof window<"u"?window.console:global.console}const co=uo();function fo(t){const e=Object.create(null);return function(n){return e[n]||(e[n]=t(n))}}const mo=/-(\w)/g,un=fo(t=>t.replace(mo,(e,o)=>o?o.toUpperCase():""));function Ct(t){t.parentElement!==null&&t.parentElement.removeChild(t)}function dn(t,e,o){const n=o===0?t.children[0]:t.children[o-1].nextSibling;t.insertBefore(e,n)}/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function cn(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),o.push.apply(o,n)}return o}function Se(t){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?arguments[e]:{};e%2?cn(Object(o),!0).forEach(function(n){ho(t,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):cn(Object(o)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(o,n))})}return t}function rt(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?rt=function(e){return typeof e}:rt=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rt(t)}function ho(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function Ie(){return Ie=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},Ie.apply(this,arguments)}function po(t,e){if(t==null)return{};var o={},n=Object.keys(t),a,l;for(l=0;l<n.length;l++)a=n[l],!(e.indexOf(a)>=0)&&(o[a]=t[a]);return o}function vo(t,e){if(t==null)return{};var o=po(t,e),n,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)n=l[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var go="1.14.0";function _e(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var Ce=_e(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Qe=_e(/Edge/i),fn=_e(/firefox/i),Je=_e(/safari/i)&&!_e(/chrome/i)&&!_e(/android/i),Tn=_e(/iP(ad|od|hone)/i),bo=_e(/chrome/i)&&_e(/android/i),On={capture:!1,passive:!1};function O(t,e,o){t.addEventListener(e,o,!Ce&&On)}function V(t,e,o){t.removeEventListener(e,o,!Ce&&On)}function pt(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function yo(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function ye(t,e,o,n){if(t){o=o||document;do{if(e!=null&&(e[0]===">"?t.parentNode===o&&pt(t,e):pt(t,e))||n&&t===o)return t;if(t===o)break}while(t=yo(t))}return null}var mn=/\s+/g;function de(t,e,o){if(t&&e)if(t.classList)t.classList[o?"add":"remove"](e);else{var n=(" "+t.className+" ").replace(mn," ").replace(" "+e+" "," ");t.className=(n+(o?" "+e:"")).replace(mn," ")}}function S(t,e,o){var n=t&&t.style;if(n){if(o===void 0)return document.defaultView&&document.defaultView.getComputedStyle?o=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(o=t.currentStyle),e===void 0?o:o[e];!(e in n)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),n[e]=o+(typeof o=="string"?"":"px")}}function Xe(t,e){var o="";if(typeof t=="string")o=t;else do{var n=S(t,"transform");n&&n!=="none"&&(o=n+" "+o)}while(!e&&(t=t.parentNode));var a=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return a&&new a(o)}function Nn(t,e,o){if(t){var n=t.getElementsByTagName(e),a=0,l=n.length;if(o)for(;a<l;a++)o(n[a],a);return n}return[]}function we(){var t=document.scrollingElement;return t||document.documentElement}function z(t,e,o,n,a){if(!(!t.getBoundingClientRect&&t!==window)){var l,r,u,s,i,d,h;if(t!==window&&t.parentNode&&t!==we()?(l=t.getBoundingClientRect(),r=l.top,u=l.left,s=l.bottom,i=l.right,d=l.height,h=l.width):(r=0,u=0,s=window.innerHeight,i=window.innerWidth,d=window.innerHeight,h=window.innerWidth),(e||o)&&t!==window&&(a=a||t.parentNode,!Ce))do if(a&&a.getBoundingClientRect&&(S(a,"transform")!=="none"||o&&S(a,"position")!=="static")){var b=a.getBoundingClientRect();r-=b.top+parseInt(S(a,"border-top-width")),u-=b.left+parseInt(S(a,"border-left-width")),s=r+l.height,i=u+l.width;break}while(a=a.parentNode);if(n&&t!==window){var x=Xe(a||t),D=x&&x.a,_=x&&x.d;x&&(r/=_,u/=D,h/=D,d/=_,s=r+d,i=u+h)}return{top:r,left:u,bottom:s,right:i,width:h,height:d}}}function hn(t,e,o){for(var n=Oe(t,!0),a=z(t)[e];n;){var l=z(n)[o],r=void 0;if(r=a>=l,!r)return n;if(n===we())break;n=Oe(n,!1)}return!1}function Ye(t,e,o,n){for(var a=0,l=0,r=t.children;l<r.length;){if(r[l].style.display!=="none"&&r[l]!==E.ghost&&(n||r[l]!==E.dragged)&&ye(r[l],o.draggable,t,!1)){if(a===e)return r[l];a++}l++}return null}function Qt(t,e){for(var o=t.lastElementChild;o&&(o===E.ghost||S(o,"display")==="none"||e&&!pt(o,e));)o=o.previousElementSibling;return o||null}function he(t,e){var o=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==E.clone&&(!e||pt(t,e))&&o++;return o}function pn(t){var e=0,o=0,n=we();if(t)do{var a=Xe(t),l=a.a,r=a.d;e+=t.scrollLeft*l,o+=t.scrollTop*r}while(t!==n&&(t=t.parentNode));return[e,o]}function wo(t,e){for(var o in t)if(t.hasOwnProperty(o)){for(var n in e)if(e.hasOwnProperty(n)&&e[n]===t[o][n])return Number(o)}return-1}function Oe(t,e){if(!t||!t.getBoundingClientRect)return we();var o=t,n=!1;do if(o.clientWidth<o.scrollWidth||o.clientHeight<o.scrollHeight){var a=S(o);if(o.clientWidth<o.scrollWidth&&(a.overflowX=="auto"||a.overflowX=="scroll")||o.clientHeight<o.scrollHeight&&(a.overflowY=="auto"||a.overflowY=="scroll")){if(!o.getBoundingClientRect||o===document.body)return we();if(n||e)return o;n=!0}}while(o=o.parentNode);return we()}function So(t,e){if(t&&e)for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);return t}function xt(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var Ge;function kn(t,e){return function(){if(!Ge){var o=arguments,n=this;o.length===1?t.call(n,o[0]):t.apply(n,o),Ge=setTimeout(function(){Ge=void 0},e)}}}function Eo(){clearTimeout(Ge),Ge=void 0}function Pn(t,e,o){t.scrollLeft+=e,t.scrollTop+=o}function An(t){var e=window.Polymer,o=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):o?o(t).clone(!0)[0]:t.cloneNode(!0)}var fe="Sortable"+new Date().getTime();function Do(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(a){if(!(S(a,"display")==="none"||a===E.ghost)){t.push({target:a,rect:z(a)});var l=Se({},t[t.length-1].rect);if(a.thisAnimationDuration){var r=Xe(a,!0);r&&(l.top-=r.f,l.left-=r.e)}a.fromRect=l}})}},addAnimationState:function(n){t.push(n)},removeAnimationState:function(n){t.splice(wo(t,{target:n}),1)},animateAll:function(n){var a=this;if(!this.options.animation){clearTimeout(e),typeof n=="function"&&n();return}var l=!1,r=0;t.forEach(function(u){var s=0,i=u.target,d=i.fromRect,h=z(i),b=i.prevFromRect,x=i.prevToRect,D=u.rect,_=Xe(i,!0);_&&(h.top-=_.f,h.left-=_.e),i.toRect=h,i.thisAnimationDuration&&xt(b,h)&&!xt(d,h)&&(D.top-h.top)/(D.left-h.left)===(d.top-h.top)/(d.left-h.left)&&(s=Io(D,b,x,a.options)),xt(h,d)||(i.prevFromRect=d,i.prevToRect=h,s||(s=a.options.animation),a.animate(i,D,h,s)),s&&(l=!0,r=Math.max(r,s),clearTimeout(i.animationResetTimer),i.animationResetTimer=setTimeout(function(){i.animationTime=0,i.prevFromRect=null,i.fromRect=null,i.prevToRect=null,i.thisAnimationDuration=null},s),i.thisAnimationDuration=s)}),clearTimeout(e),l?e=setTimeout(function(){typeof n=="function"&&n()},r):typeof n=="function"&&n(),t=[]},animate:function(n,a,l,r){if(r){S(n,"transition",""),S(n,"transform","");var u=Xe(this.el),s=u&&u.a,i=u&&u.d,d=(a.left-l.left)/(s||1),h=(a.top-l.top)/(i||1);n.animatingX=!!d,n.animatingY=!!h,S(n,"transform","translate3d("+d+"px,"+h+"px,0)"),this.forRepaintDummy=_o(n),S(n,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),S(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){S(n,"transition",""),S(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},r)}}}}function _o(t){return t.offsetWidth}function Io(t,e,o,n){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-o.top,2)+Math.pow(e.left-o.left,2))*n.animation}var Re=[],Vt={initializeByDefault:!0},et={mount:function(e){for(var o in Vt)Vt.hasOwnProperty(o)&&!(o in e)&&(e[o]=Vt[o]);Re.forEach(function(n){if(n.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),Re.push(e)},pluginEvent:function(e,o,n){var a=this;this.eventCanceled=!1,n.cancel=function(){a.eventCanceled=!0};var l=e+"Global";Re.forEach(function(r){o[r.pluginName]&&(o[r.pluginName][l]&&o[r.pluginName][l](Se({sortable:o},n)),o.options[r.pluginName]&&o[r.pluginName][e]&&o[r.pluginName][e](Se({sortable:o},n)))})},initializePlugins:function(e,o,n,a){Re.forEach(function(u){var s=u.pluginName;if(!(!e.options[s]&&!u.initializeByDefault)){var i=new u(e,o,e.options);i.sortable=e,i.options=e.options,e[s]=i,Ie(n,i.defaults)}});for(var l in e.options)if(e.options.hasOwnProperty(l)){var r=this.modifyOption(e,l,e.options[l]);typeof r<"u"&&(e.options[l]=r)}},getEventProperties:function(e,o){var n={};return Re.forEach(function(a){typeof a.eventProperties=="function"&&Ie(n,a.eventProperties.call(o[a.pluginName],e))}),n},modifyOption:function(e,o,n){var a;return Re.forEach(function(l){e[l.pluginName]&&l.optionListeners&&typeof l.optionListeners[o]=="function"&&(a=l.optionListeners[o].call(e[l.pluginName],n))}),a}};function Co(t){var e=t.sortable,o=t.rootEl,n=t.name,a=t.targetEl,l=t.cloneEl,r=t.toEl,u=t.fromEl,s=t.oldIndex,i=t.newIndex,d=t.oldDraggableIndex,h=t.newDraggableIndex,b=t.originalEvent,x=t.putSortable,D=t.extraEventProperties;if(e=e||o&&o[fe],!!e){var _,T=e.options,H="on"+n.charAt(0).toUpperCase()+n.substr(1);window.CustomEvent&&!Ce&&!Qe?_=new CustomEvent(n,{bubbles:!0,cancelable:!0}):(_=document.createEvent("Event"),_.initEvent(n,!0,!0)),_.to=r||o,_.from=u||o,_.item=a||o,_.clone=l,_.oldIndex=s,_.newIndex=i,_.oldDraggableIndex=d,_.newDraggableIndex=h,_.originalEvent=b,_.pullMode=x?x.lastPutMode:void 0;var N=Se(Se({},D),et.getEventProperties(n,e));for(var R in N)_[R]=N[R];o&&o.dispatchEvent(_),T[H]&&T[H].call(e,_)}}var xo=["evt"],re=function(e,o){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=n.evt,l=vo(n,xo);et.pluginEvent.bind(E)(e,o,Se({dragEl:p,parentEl:A,ghostEl:C,rootEl:k,nextEl:Ae,lastDownEl:st,cloneEl:F,cloneHidden:Te,dragStarted:qe,putSortable:Z,activeSortable:E.active,originalEvent:a,oldIndex:je,oldDraggableIndex:We,newIndex:ce,newDraggableIndex:Ve,hideGhostForTarget:Ln,unhideGhostForTarget:Un,cloneNowHidden:function(){Te=!0},cloneNowShown:function(){Te=!1},dispatchSortableEvent:function(u){ae({sortable:o,name:u,originalEvent:a})}},l))};function ae(t){Co(Se({putSortable:Z,cloneEl:F,targetEl:p,rootEl:k,oldIndex:je,oldDraggableIndex:We,newIndex:ce,newDraggableIndex:Ve},t))}var p,A,C,k,Ae,st,F,Te,je,ce,We,Ve,ot,Z,Ue=!1,vt=!1,gt=[],ke,ge,Tt,Ot,vn,gn,qe,Me,Ke,Ze=!1,at=!1,ut,ne,Nt=[],Xt=!1,bt=[],wt=typeof document<"u",lt=Tn,bn=Qe||Ce?"cssFloat":"float",Vo=wt&&!bo&&!Tn&&"draggable"in document.createElement("div"),Fn=(function(){if(wt){if(Ce)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}})(),Rn=function(e,o){var n=S(e),a=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),l=Ye(e,0,o),r=Ye(e,1,o),u=l&&S(l),s=r&&S(r),i=u&&parseInt(u.marginLeft)+parseInt(u.marginRight)+z(l).width,d=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+z(r).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(l&&u.float&&u.float!=="none"){var h=u.float==="left"?"left":"right";return r&&(s.clear==="both"||s.clear===h)?"vertical":"horizontal"}return l&&(u.display==="block"||u.display==="flex"||u.display==="table"||u.display==="grid"||i>=a&&n[bn]==="none"||r&&n[bn]==="none"&&i+d>a)?"vertical":"horizontal"},To=function(e,o,n){var a=n?e.left:e.top,l=n?e.right:e.bottom,r=n?e.width:e.height,u=n?o.left:o.top,s=n?o.right:o.bottom,i=n?o.width:o.height;return a===u||l===s||a+r/2===u+i/2},Oo=function(e,o){var n;return gt.some(function(a){var l=a[fe].options.emptyInsertThreshold;if(!(!l||Qt(a))){var r=z(a),u=e>=r.left-l&&e<=r.right+l,s=o>=r.top-l&&o<=r.bottom+l;if(u&&s)return n=a}}),n},Mn=function(e){function o(l,r){return function(u,s,i,d){var h=u.options.group.name&&s.options.group.name&&u.options.group.name===s.options.group.name;if(l==null&&(r||h))return!0;if(l==null||l===!1)return!1;if(r&&l==="clone")return l;if(typeof l=="function")return o(l(u,s,i,d),r)(u,s,i,d);var b=(r?u:s).options.group.name;return l===!0||typeof l=="string"&&l===b||l.join&&l.indexOf(b)>-1}}var n={},a=e.group;(!a||rt(a)!="object")&&(a={name:a}),n.name=a.name,n.checkPull=o(a.pull,!0),n.checkPut=o(a.put),n.revertClone=a.revertClone,e.group=n},Ln=function(){!Fn&&C&&S(C,"display","none")},Un=function(){!Fn&&C&&S(C,"display","")};wt&&document.addEventListener("click",function(t){if(vt)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),vt=!1,!1},!0);var Pe=function(e){if(p){e=e.touches?e.touches[0]:e;var o=Oo(e.clientX,e.clientY);if(o){var n={};for(var a in e)e.hasOwnProperty(a)&&(n[a]=e[a]);n.target=n.rootEl=o,n.preventDefault=void 0,n.stopPropagation=void 0,o[fe]._onDragOver(n)}}},No=function(e){p&&p.parentNode[fe]._isOutsideThisEl(e.target)};function E(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=Ie({},e),t[fe]=this;var o={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Rn(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(r,u){r.setData("Text",u.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:E.supportPointer!==!1&&"PointerEvent"in window&&!Je,emptyInsertThreshold:5};et.initializePlugins(this,t,o);for(var n in o)!(n in e)&&(e[n]=o[n]);Mn(e);for(var a in this)a.charAt(0)==="_"&&typeof this[a]=="function"&&(this[a]=this[a].bind(this));this.nativeDraggable=e.forceFallback?!1:Vo,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?O(t,"pointerdown",this._onTapStart):(O(t,"mousedown",this._onTapStart),O(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(O(t,"dragover",this),O(t,"dragenter",this)),gt.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Ie(this,Do())}E.prototype={constructor:E,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(Me=null)},_getDirection:function(e,o){return typeof this.options.direction=="function"?this.options.direction.call(this,e,o,p):this.options.direction},_onTapStart:function(e){if(e.cancelable){var o=this,n=this.el,a=this.options,l=a.preventOnFilter,r=e.type,u=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,s=(u||e).target,i=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,d=a.filter;if(Uo(n),!p&&!(/mousedown|pointerdown/.test(r)&&e.button!==0||a.disabled)&&!i.isContentEditable&&!(!this.nativeDraggable&&Je&&s&&s.tagName.toUpperCase()==="SELECT")&&(s=ye(s,a.draggable,n,!1),!(s&&s.animated)&&st!==s)){if(je=he(s),We=he(s,a.draggable),typeof d=="function"){if(d.call(this,e,s,this)){ae({sortable:o,rootEl:i,name:"filter",targetEl:s,toEl:n,fromEl:n}),re("filter",o,{evt:e}),l&&e.cancelable&&e.preventDefault();return}}else if(d&&(d=d.split(",").some(function(h){if(h=ye(i,h.trim(),n,!1),h)return ae({sortable:o,rootEl:h,name:"filter",targetEl:s,fromEl:n,toEl:n}),re("filter",o,{evt:e}),!0}),d)){l&&e.cancelable&&e.preventDefault();return}a.handle&&!ye(i,a.handle,n,!1)||this._prepareDragStart(e,u,s)}}},_prepareDragStart:function(e,o,n){var a=this,l=a.el,r=a.options,u=l.ownerDocument,s;if(n&&!p&&n.parentNode===l){var i=z(n);if(k=l,p=n,A=p.parentNode,Ae=p.nextSibling,st=n,ot=r.group,E.dragged=p,ke={target:p,clientX:(o||e).clientX,clientY:(o||e).clientY},vn=ke.clientX-i.left,gn=ke.clientY-i.top,this._lastX=(o||e).clientX,this._lastY=(o||e).clientY,p.style["will-change"]="all",s=function(){if(re("delayEnded",a,{evt:e}),E.eventCanceled){a._onDrop();return}a._disableDelayedDragEvents(),!fn&&a.nativeDraggable&&(p.draggable=!0),a._triggerDragStart(e,o),ae({sortable:a,name:"choose",originalEvent:e}),de(p,r.chosenClass,!0)},r.ignore.split(",").forEach(function(d){Nn(p,d.trim(),kt)}),O(u,"dragover",Pe),O(u,"mousemove",Pe),O(u,"touchmove",Pe),O(u,"mouseup",a._onDrop),O(u,"touchend",a._onDrop),O(u,"touchcancel",a._onDrop),fn&&this.nativeDraggable&&(this.options.touchStartThreshold=4,p.draggable=!0),re("delayStart",this,{evt:e}),r.delay&&(!r.delayOnTouchOnly||o)&&(!this.nativeDraggable||!(Qe||Ce))){if(E.eventCanceled){this._onDrop();return}O(u,"mouseup",a._disableDelayedDrag),O(u,"touchend",a._disableDelayedDrag),O(u,"touchcancel",a._disableDelayedDrag),O(u,"mousemove",a._delayedDragTouchMoveHandler),O(u,"touchmove",a._delayedDragTouchMoveHandler),r.supportPointer&&O(u,"pointermove",a._delayedDragTouchMoveHandler),a._dragStartTimer=setTimeout(s,r.delay)}else s()}},_delayedDragTouchMoveHandler:function(e){var o=e.touches?e.touches[0]:e;Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){p&&kt(p),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;V(e,"mouseup",this._disableDelayedDrag),V(e,"touchend",this._disableDelayedDrag),V(e,"touchcancel",this._disableDelayedDrag),V(e,"mousemove",this._delayedDragTouchMoveHandler),V(e,"touchmove",this._delayedDragTouchMoveHandler),V(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,o){o=o||e.pointerType=="touch"&&e,!this.nativeDraggable||o?this.options.supportPointer?O(document,"pointermove",this._onTouchMove):o?O(document,"touchmove",this._onTouchMove):O(document,"mousemove",this._onTouchMove):(O(p,"dragend",this),O(k,"dragstart",this._onDragStart));try{document.selection?dt(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,o){if(Ue=!1,k&&p){re("dragStarted",this,{evt:o}),this.nativeDraggable&&O(document,"dragover",No);var n=this.options;!e&&de(p,n.dragClass,!1),de(p,n.ghostClass,!0),E.active=this,e&&this._appendGhost(),ae({sortable:this,name:"start",originalEvent:o})}else this._nulling()},_emulateDragOver:function(){if(ge){this._lastX=ge.clientX,this._lastY=ge.clientY,Ln();for(var e=document.elementFromPoint(ge.clientX,ge.clientY),o=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(ge.clientX,ge.clientY),e!==o);)o=e;if(p.parentNode[fe]._isOutsideThisEl(e),o)do{if(o[fe]){var n=void 0;if(n=o[fe]._onDragOver({clientX:ge.clientX,clientY:ge.clientY,target:e,rootEl:o}),n&&!this.options.dragoverBubble)break}e=o}while(o=o.parentNode);Un()}},_onTouchMove:function(e){if(ke){var o=this.options,n=o.fallbackTolerance,a=o.fallbackOffset,l=e.touches?e.touches[0]:e,r=C&&Xe(C,!0),u=C&&r&&r.a,s=C&&r&&r.d,i=lt&&ne&&pn(ne),d=(l.clientX-ke.clientX+a.x)/(u||1)+(i?i[0]-Nt[0]:0)/(u||1),h=(l.clientY-ke.clientY+a.y)/(s||1)+(i?i[1]-Nt[1]:0)/(s||1);if(!E.active&&!Ue){if(n&&Math.max(Math.abs(l.clientX-this._lastX),Math.abs(l.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(C){r?(r.e+=d-(Tt||0),r.f+=h-(Ot||0)):r={a:1,b:0,c:0,d:1,e:d,f:h};var b="matrix(".concat(r.a,",").concat(r.b,",").concat(r.c,",").concat(r.d,",").concat(r.e,",").concat(r.f,")");S(C,"webkitTransform",b),S(C,"mozTransform",b),S(C,"msTransform",b),S(C,"transform",b),Tt=d,Ot=h,ge=l}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!C){var e=this.options.fallbackOnBody?document.body:k,o=z(p,!0,lt,!0,e),n=this.options;if(lt){for(ne=e;S(ne,"position")==="static"&&S(ne,"transform")==="none"&&ne!==document;)ne=ne.parentNode;ne!==document.body&&ne!==document.documentElement?(ne===document&&(ne=we()),o.top+=ne.scrollTop,o.left+=ne.scrollLeft):ne=we(),Nt=pn(ne)}C=p.cloneNode(!0),de(C,n.ghostClass,!1),de(C,n.fallbackClass,!0),de(C,n.dragClass,!0),S(C,"transition",""),S(C,"transform",""),S(C,"box-sizing","border-box"),S(C,"margin",0),S(C,"top",o.top),S(C,"left",o.left),S(C,"width",o.width),S(C,"height",o.height),S(C,"opacity","0.8"),S(C,"position",lt?"absolute":"fixed"),S(C,"zIndex","100000"),S(C,"pointerEvents","none"),E.ghost=C,e.appendChild(C),S(C,"transform-origin",vn/parseInt(C.style.width)*100+"% "+gn/parseInt(C.style.height)*100+"%")}},_onDragStart:function(e,o){var n=this,a=e.dataTransfer,l=n.options;if(re("dragStart",this,{evt:e}),E.eventCanceled){this._onDrop();return}re("setupClone",this),E.eventCanceled||(F=An(p),F.draggable=!1,F.style["will-change"]="",this._hideClone(),de(F,this.options.chosenClass,!1),E.clone=F),n.cloneId=dt(function(){re("clone",n),!E.eventCanceled&&(n.options.removeCloneOnHide||k.insertBefore(F,p),n._hideClone(),ae({sortable:n,name:"clone"}))}),!o&&de(p,l.dragClass,!0),o?(vt=!0,n._loopId=setInterval(n._emulateDragOver,50)):(V(document,"mouseup",n._onDrop),V(document,"touchend",n._onDrop),V(document,"touchcancel",n._onDrop),a&&(a.effectAllowed="move",l.setData&&l.setData.call(n,a,p)),O(document,"drop",n),S(p,"transform","translateZ(0)")),Ue=!0,n._dragStartId=dt(n._dragStarted.bind(n,o,e)),O(document,"selectstart",n),qe=!0,Je&&S(document.body,"user-select","none")},_onDragOver:function(e){var o=this.el,n=e.target,a,l,r,u=this.options,s=u.group,i=E.active,d=ot===s,h=u.sort,b=Z||i,x,D=this,_=!1;if(Xt)return;function T(ie,$e){re(ie,D,Se({evt:e,isOwner:d,axis:x?"vertical":"horizontal",revert:r,dragRect:a,targetRect:l,canSort:h,fromSortable:b,target:n,completed:N,onMove:function(f,v){return it(k,o,p,a,f,z(f),e,v)},changed:R},$e))}function H(){T("dragOverAnimationCapture"),D.captureAnimationState(),D!==b&&b.captureAnimationState()}function N(ie){return T("dragOverCompleted",{insertion:ie}),ie&&(d?i._hideClone():i._showClone(D),D!==b&&(de(p,Z?Z.options.ghostClass:i.options.ghostClass,!1),de(p,u.ghostClass,!0)),Z!==D&&D!==E.active?Z=D:D===E.active&&Z&&(Z=null),b===D&&(D._ignoreWhileAnimating=n),D.animateAll(function(){T("dragOverAnimationComplete"),D._ignoreWhileAnimating=null}),D!==b&&(b.animateAll(),b._ignoreWhileAnimating=null)),(n===p&&!p.animated||n===o&&!n.animated)&&(Me=null),!u.dragoverBubble&&!e.rootEl&&n!==document&&(p.parentNode[fe]._isOutsideThisEl(e.target),!ie&&Pe(e)),!u.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),_=!0}function R(){ce=he(p),Ve=he(p,u.draggable),ae({sortable:D,name:"change",toEl:o,newIndex:ce,newDraggableIndex:Ve,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),n=ye(n,u.draggable,o,!0),T("dragOver"),E.eventCanceled)return _;if(p.contains(e.target)||n.animated&&n.animatingX&&n.animatingY||D._ignoreWhileAnimating===n)return N(!1);if(vt=!1,i&&!u.disabled&&(d?h||(r=A!==k):Z===this||(this.lastPutMode=ot.checkPull(this,i,p,e))&&s.checkPut(this,i,p,e))){if(x=this._getDirection(e,n)==="vertical",a=z(p),T("dragOverValid"),E.eventCanceled)return _;if(r)return A=k,H(),this._hideClone(),T("revert"),E.eventCanceled||(Ae?k.insertBefore(p,Ae):k.appendChild(p)),N(!0);var M=Qt(o,u.draggable);if(!M||Fo(e,x,this)&&!M.animated){if(M===p)return N(!1);if(M&&o===e.target&&(n=M),n&&(l=z(n)),it(k,o,p,a,n,l,e,!!n)!==!1)return H(),o.appendChild(p),A=o,R(),N(!0)}else if(M&&Ao(e,x,this)){var G=Ye(o,0,u,!0);if(G===p)return N(!1);if(n=G,l=z(n),it(k,o,p,a,n,l,e,!1)!==!1)return H(),o.insertBefore(p,G),A=o,R(),N(!0)}else if(n.parentNode===o){l=z(n);var L=0,W,ue=p.parentNode!==o,U=!To(p.animated&&p.toRect||a,n.animated&&n.toRect||l,x),me=x?"top":"left",ee=hn(n,"top","top")||hn(p,"top","top"),te=ee?ee.scrollTop:void 0;Me!==n&&(W=l[me],Ze=!1,at=!U&&u.invertSwap||ue),L=Ro(e,n,l,x,U?1:u.swapThreshold,u.invertedSwapThreshold==null?u.swapThreshold:u.invertedSwapThreshold,at,Me===n);var B;if(L!==0){var J=he(p);do J-=L,B=A.children[J];while(B&&(S(B,"display")==="none"||B===C))}if(L===0||B===n)return N(!1);Me=n,Ke=L;var q=n.nextElementSibling,oe=!1;oe=L===1;var ve=it(k,o,p,a,n,l,e,oe);if(ve!==!1)return(ve===1||ve===-1)&&(oe=ve===1),Xt=!0,setTimeout(Po,30),H(),oe&&!q?o.appendChild(p):n.parentNode.insertBefore(p,oe?q:n),ee&&Pn(ee,0,te-ee.scrollTop),A=p.parentNode,W!==void 0&&!at&&(ut=Math.abs(W-z(n)[me])),R(),N(!0)}if(o.contains(p))return N(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){V(document,"mousemove",this._onTouchMove),V(document,"touchmove",this._onTouchMove),V(document,"pointermove",this._onTouchMove),V(document,"dragover",Pe),V(document,"mousemove",Pe),V(document,"touchmove",Pe)},_offUpEvents:function(){var e=this.el.ownerDocument;V(e,"mouseup",this._onDrop),V(e,"touchend",this._onDrop),V(e,"pointerup",this._onDrop),V(e,"touchcancel",this._onDrop),V(document,"selectstart",this)},_onDrop:function(e){var o=this.el,n=this.options;if(ce=he(p),Ve=he(p,n.draggable),re("drop",this,{evt:e}),A=p&&p.parentNode,ce=he(p),Ve=he(p,n.draggable),E.eventCanceled){this._nulling();return}Ue=!1,at=!1,Ze=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Yt(this.cloneId),Yt(this._dragStartId),this.nativeDraggable&&(V(document,"drop",this),V(o,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Je&&S(document.body,"user-select",""),S(p,"transform",""),e&&(qe&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),C&&C.parentNode&&C.parentNode.removeChild(C),(k===A||Z&&Z.lastPutMode!=="clone")&&F&&F.parentNode&&F.parentNode.removeChild(F),p&&(this.nativeDraggable&&V(p,"dragend",this),kt(p),p.style["will-change"]="",qe&&!Ue&&de(p,Z?Z.options.ghostClass:this.options.ghostClass,!1),de(p,this.options.chosenClass,!1),ae({sortable:this,name:"unchoose",toEl:A,newIndex:null,newDraggableIndex:null,originalEvent:e}),k!==A?(ce>=0&&(ae({rootEl:A,name:"add",toEl:A,fromEl:k,originalEvent:e}),ae({sortable:this,name:"remove",toEl:A,originalEvent:e}),ae({rootEl:A,name:"sort",toEl:A,fromEl:k,originalEvent:e}),ae({sortable:this,name:"sort",toEl:A,originalEvent:e})),Z&&Z.save()):ce!==je&&ce>=0&&(ae({sortable:this,name:"update",toEl:A,originalEvent:e}),ae({sortable:this,name:"sort",toEl:A,originalEvent:e})),E.active&&((ce==null||ce===-1)&&(ce=je,Ve=We),ae({sortable:this,name:"end",toEl:A,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){re("nulling",this),k=p=A=C=Ae=F=st=Te=ke=ge=qe=ce=Ve=je=We=Me=Ke=Z=ot=E.dragged=E.ghost=E.clone=E.active=null,bt.forEach(function(e){e.checked=!0}),bt.length=Tt=Ot=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":p&&(this._onDragOver(e),ko(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],o,n=this.el.children,a=0,l=n.length,r=this.options;a<l;a++)o=n[a],ye(o,r.draggable,this.el,!1)&&e.push(o.getAttribute(r.dataIdAttr)||Lo(o));return e},sort:function(e,o){var n={},a=this.el;this.toArray().forEach(function(l,r){var u=a.children[r];ye(u,this.options.draggable,a,!1)&&(n[l]=u)},this),o&&this.captureAnimationState(),e.forEach(function(l){n[l]&&(a.removeChild(n[l]),a.appendChild(n[l]))}),o&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,o){return ye(e,o||this.options.draggable,this.el,!1)},option:function(e,o){var n=this.options;if(o===void 0)return n[e];var a=et.modifyOption(this,e,o);typeof a<"u"?n[e]=a:n[e]=o,e==="group"&&Mn(n)},destroy:function(){re("destroy",this);var e=this.el;e[fe]=null,V(e,"mousedown",this._onTapStart),V(e,"touchstart",this._onTapStart),V(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(V(e,"dragover",this),V(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(o){o.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),gt.splice(gt.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Te){if(re("hideClone",this),E.eventCanceled)return;S(F,"display","none"),this.options.removeCloneOnHide&&F.parentNode&&F.parentNode.removeChild(F),Te=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(Te){if(re("showClone",this),E.eventCanceled)return;p.parentNode==k&&!this.options.group.revertClone?k.insertBefore(F,p):Ae?k.insertBefore(F,Ae):k.appendChild(F),this.options.group.revertClone&&this.animate(p,F),S(F,"display",""),Te=!1}}};function ko(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function it(t,e,o,n,a,l,r,u){var s,i=t[fe],d=i.options.onMove,h;return window.CustomEvent&&!Ce&&!Qe?s=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(s=document.createEvent("Event"),s.initEvent("move",!0,!0)),s.to=e,s.from=t,s.dragged=o,s.draggedRect=n,s.related=a||e,s.relatedRect=l||z(e),s.willInsertAfter=u,s.originalEvent=r,t.dispatchEvent(s),d&&(h=d.call(i,s,r)),h}function kt(t){t.draggable=!1}function Po(){Xt=!1}function Ao(t,e,o){var n=z(Ye(o.el,0,o.options,!0)),a=10;return e?t.clientX<n.left-a||t.clientY<n.top&&t.clientX<n.right:t.clientY<n.top-a||t.clientY<n.bottom&&t.clientX<n.left}function Fo(t,e,o){var n=z(Qt(o.el,o.options.draggable)),a=10;return e?t.clientX>n.right+a||t.clientX<=n.right&&t.clientY>n.bottom&&t.clientX>=n.left:t.clientX>n.right&&t.clientY>n.top||t.clientX<=n.right&&t.clientY>n.bottom+a}function Ro(t,e,o,n,a,l,r,u){var s=n?t.clientY:t.clientX,i=n?o.height:o.width,d=n?o.top:o.left,h=n?o.bottom:o.right,b=!1;if(!r){if(u&&ut<i*a){if(!Ze&&(Ke===1?s>d+i*l/2:s<h-i*l/2)&&(Ze=!0),Ze)b=!0;else if(Ke===1?s<d+ut:s>h-ut)return-Ke}else if(s>d+i*(1-a)/2&&s<h-i*(1-a)/2)return Mo(e)}return b=b||r,b&&(s<d+i*l/2||s>h-i*l/2)?s>d+i/2?1:-1:0}function Mo(t){return he(p)<he(t)?1:-1}function Lo(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,o=e.length,n=0;o--;)n+=e.charCodeAt(o);return n.toString(36)}function Uo(t){bt.length=0;for(var e=t.getElementsByTagName("input"),o=e.length;o--;){var n=e[o];n.checked&&bt.push(n)}}function dt(t){return setTimeout(t,0)}function Yt(t){return clearTimeout(t)}wt&&O(document,"touchmove",function(t){(E.active||Ue)&&t.cancelable&&t.preventDefault()});E.utils={on:O,off:V,css:S,find:Nn,is:function(e,o){return!!ye(e,o,e,!1)},extend:So,throttle:kn,closest:ye,toggleClass:de,clone:An,index:he,nextTick:dt,cancelNextTick:Yt,detectDirection:Rn,getChild:Ye};E.get=function(t){return t[fe]};E.mount=function(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];e[0].constructor===Array&&(e=e[0]),e.forEach(function(n){if(!n.prototype||!n.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(n));n.utils&&(E.utils=Se(Se({},E.utils),n.utils)),et.mount(n)})};E.create=function(t,e){return new E(t,e)};E.version=go;var $=[],ze,$t,qt=!1,Pt,At,yt,He;function Bo(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(o){var n=o.originalEvent;this.sortable.nativeDraggable?O(document,"dragover",this._handleAutoScroll):this.options.supportPointer?O(document,"pointermove",this._handleFallbackAutoScroll):n.touches?O(document,"touchmove",this._handleFallbackAutoScroll):O(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(o){var n=o.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?V(document,"dragover",this._handleAutoScroll):(V(document,"pointermove",this._handleFallbackAutoScroll),V(document,"touchmove",this._handleFallbackAutoScroll),V(document,"mousemove",this._handleFallbackAutoScroll)),yn(),ct(),Eo()},nulling:function(){yt=$t=ze=qt=He=Pt=At=null,$.length=0},_handleFallbackAutoScroll:function(o){this._handleAutoScroll(o,!0)},_handleAutoScroll:function(o,n){var a=this,l=(o.touches?o.touches[0]:o).clientX,r=(o.touches?o.touches[0]:o).clientY,u=document.elementFromPoint(l,r);if(yt=o,n||this.options.forceAutoScrollFallback||Qe||Ce||Je){Ft(o,this.options,u,n);var s=Oe(u,!0);qt&&(!He||l!==Pt||r!==At)&&(He&&yn(),He=setInterval(function(){var i=Oe(document.elementFromPoint(l,r),!0);i!==s&&(s=i,ct()),Ft(o,a.options,i,n)},10),Pt=l,At=r)}else{if(!this.options.bubbleScroll||Oe(u,!0)===we()){ct();return}Ft(o,this.options,Oe(u,!1),!1)}}},Ie(t,{pluginName:"scroll",initializeByDefault:!0})}function ct(){$.forEach(function(t){clearInterval(t.pid)}),$=[]}function yn(){clearInterval(He)}var Ft=kn(function(t,e,o,n){if(e.scroll){var a=(t.touches?t.touches[0]:t).clientX,l=(t.touches?t.touches[0]:t).clientY,r=e.scrollSensitivity,u=e.scrollSpeed,s=we(),i=!1,d;$t!==o&&($t=o,ct(),ze=e.scroll,d=e.scrollFn,ze===!0&&(ze=Oe(o,!0)));var h=0,b=ze;do{var x=b,D=z(x),_=D.top,T=D.bottom,H=D.left,N=D.right,R=D.width,M=D.height,G=void 0,L=void 0,W=x.scrollWidth,ue=x.scrollHeight,U=S(x),me=x.scrollLeft,ee=x.scrollTop;x===s?(G=R<W&&(U.overflowX==="auto"||U.overflowX==="scroll"||U.overflowX==="visible"),L=M<ue&&(U.overflowY==="auto"||U.overflowY==="scroll"||U.overflowY==="visible")):(G=R<W&&(U.overflowX==="auto"||U.overflowX==="scroll"),L=M<ue&&(U.overflowY==="auto"||U.overflowY==="scroll"));var te=G&&(Math.abs(N-a)<=r&&me+R<W)-(Math.abs(H-a)<=r&&!!me),B=L&&(Math.abs(T-l)<=r&&ee+M<ue)-(Math.abs(_-l)<=r&&!!ee);if(!$[h])for(var J=0;J<=h;J++)$[J]||($[J]={});($[h].vx!=te||$[h].vy!=B||$[h].el!==x)&&($[h].el=x,$[h].vx=te,$[h].vy=B,clearInterval($[h].pid),(te!=0||B!=0)&&(i=!0,$[h].pid=setInterval((function(){n&&this.layer===0&&E.active._onTouchMove(yt);var q=$[this.layer].vy?$[this.layer].vy*u:0,oe=$[this.layer].vx?$[this.layer].vx*u:0;typeof d=="function"&&d.call(E.dragged.parentNode[fe],oe,q,t,yt,$[this.layer].el)!=="continue"||Pn($[this.layer].el,oe,q)}).bind({layer:h}),24))),h++}while(e.bubbleScroll&&b!==s&&(b=Oe(b,!1)));qt=i}},30),Bn=function(e){var o=e.originalEvent,n=e.putSortable,a=e.dragEl,l=e.activeSortable,r=e.dispatchSortableEvent,u=e.hideGhostForTarget,s=e.unhideGhostForTarget;if(o){var i=n||l;u();var d=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:o,h=document.elementFromPoint(d.clientX,d.clientY);s(),i&&!i.el.contains(h)&&(r("spill"),this.onSpill({dragEl:a,putSortable:n}))}};function en(){}en.prototype={startIndex:null,dragStart:function(e){var o=e.oldDraggableIndex;this.startIndex=o},onSpill:function(e){var o=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var a=Ye(this.sortable.el,this.startIndex,this.options);a?this.sortable.el.insertBefore(o,a):this.sortable.el.appendChild(o),this.sortable.animateAll(),n&&n.animateAll()},drop:Bn};Ie(en,{pluginName:"revertOnSpill"});function tn(){}tn.prototype={onSpill:function(e){var o=e.dragEl,n=e.putSortable,a=n||this.sortable;a.captureAnimationState(),o.parentNode&&o.parentNode.removeChild(o),a.animateAll()},drop:Bn};Ie(tn,{pluginName:"removeOnSpill"});E.mount(new Bo);E.mount(tn,en);function jo(t,e){return Object.values(t).indexOf(e)}function Xo(t,e,o,n){if(!t)return[];const a=Object.values(t),l=e.length-n;return[...e].map((u,s)=>s>=l?a.length:a.indexOf(u))}function Yo(t){return["transition-group","TransitionGroup"].includes(t)}function wn(t){if(!t||t.length!==1)return!1;const[{type:e}]=t;return e?Yo(e.name):!1}function $o(t,e){return e?{...e.props,...e.attrs}:t}const zt=["Start","Add","Remove","Update","End"],Ht=["Choose","Unchoose","Sort","Filter","Clone"],qo=["Move",...zt,...Ht].map(t=>"on"+t);let Rt=null;const zo=Wt({name:"VueDraggableNext",inheritAttrs:!1,props:{options:Object,list:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:t=>t},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null},component:{type:String,default:null},modelValue:{type:Array,required:!1,default:null}},emits:["update:modelValue","move","change",...zt.map(t=>t.toLowerCase()),...Ht.map(t=>t.toLowerCase())],setup(t,{emit:e,slots:o,attrs:n}){const a=P(!1),l=P(!1),r=P(0),u=P(0),s=P([]),i=P(null),d=P(null),h=Lt(()=>t.list?t.list:t.modelValue),b=Yn();function x(){return t.component?Xn(t.component):t.tag}function D(c){if(d.value)for(const y in c){const I=un(y);qo.indexOf(I)===-1&&d.value.option(I,c[y])}}function _(){return b?.proxy?.$el.children||[]}async function T(){await Dt(),s.value=Xo(_(),b?.proxy?.$el.children||[],a.value,u.value)}function H(c){const y=jo(_()||[],c);if(y===-1)return null;const I=h.value?h.value[y]:null;return{index:y,element:I}}function N(c){Dt(()=>e("change",c))}function R(c){if(t.list){c(t.list);return}const y=[...t.modelValue||[]];c(y),e("update:modelValue",y)}function M(...c){R(I=>I.splice(...c))}function G(c,y){R(j=>j.splice(y,0,j.splice(c,1)[0]))}function L(c){const y=s.value,I=y.length;return c>I-1?I:y[c]}function W(){return o.default&&o.default()[0]?.component?.proxy||null}function ue(c){if(!t.noTransitionOnDrag||!a.value)return;const y=_();y[c]&&(y[c].data=null);const I=W();I&&(I.children=[],I.kept=void 0)}function U(c){T(),i.value=H(c.item),i.value&&(c.item._underlying_vm_=t.clone(i.value.element),Rt=c.item)}function me(c){const y=c.item._underlying_vm_;if(y===void 0)return;Ct(c.item);const I=L(c.newIndex);M(I,0,y),T(),N({added:{element:y,newIndex:I}})}function ee(c){if(dn(b?.proxy?.$el,c.item,c.oldIndex),c.pullMode==="clone"){Ct(c.clone);return}if(!i.value)return;const y=i.value.index;M(y,1),ue(y),N({removed:{element:i.value.element,oldIndex:y}})}function te(c){Ct(c.item),dn(c.from,c.item,c.oldIndex);const y=i.value?.index,I=L(c.newIndex);G(y,I),N({moved:{element:i.value?.element,oldIndex:y,newIndex:I}})}function B(c,y){Object.prototype.hasOwnProperty.call(c,y)&&(c[y]+=r.value)}function J(c){return c.__draggable_component__}function q({to:c,related:y}){const I=J(c);if(!I)return{component:I};const j=I.realList,X={list:j,component:I};if(c!==y&&j&&I.getUnderlyingVm){const be=I.getUnderlyingVm(y);if(be)return Object.assign(be,X)}return X}function oe(c,y){const I=[...y.to.children].filter(St=>St.style.display!=="none");if(I.length===0)return 0;const j=I.indexOf(y.related),X=c.component.getVmIndex(j);return I.indexOf(Rt)!==-1||!y.willInsertAfter?X:X+1}const ve=()=>{const c={};zt.forEach(X=>{c["on"+X]=$e(X)}),Ht.forEach(X=>{c["on"+X]=ie.bind(null,X)});const y=Object.keys(n).reduce((X,be)=>(X[un(be)]=n[be],X),{}),I=Object.assign({},y,c,{onMove:(X,be)=>w(X,be)});"draggable"in I||(I.draggable=">*");const j=b?.proxy?.$el.nodeType===1?b.proxy.$el:b?.proxy?.$el.parentElement||null;j&&(d.value=new E(j,I),j.__draggable_component__=b?.proxy,T())};function ie(c,y){Dt(()=>e(c.toLowerCase(),y))}function $e(c){return y=>{if(h.value!==null){const I="onDrag"+c,j=v[I];j&&j(y)}ie(c,y)}}function w(c,y){const I=t.move;if(!I||!h.value)return!0;const j=q(c),X=i.value,be=oe(j,c);X&&Object.assign(X,{futureIndex:be});const St=Object.assign({},c,{relatedContext:j,draggedContext:X});return I(St,y)}function f(){T(),Rt=null}const v={onDragStart:U,onDragAdd:me,onDragRemove:ee,onDragUpdate:te,onDragMove:w,onDragEnd:f};return _n(()=>{ve()}),t.list!==null&&t.modelValue!==null&&co.error("list props are mutually exclusive! Please set one."),{getTag:x,realList:h,visibleIndexes:s,noneFunctionalComponentMode:l,headerOffset:r,footerOffset:u,transitionMode:a,computeIndexes:T,updateOptions:D,getChildrenNodes:_,getUnderlyingVm:H,emitChanges:N,alterList:R,spliceList:M,updatePosition:G,getVmIndex:L,getComponent:W,resetTransitionData:ue,onDragStart:U,onDragAdd:me,onDragRemove:ee,onDragUpdate:te,updateProperty:B,onDragMove:w,onDragEnd:f,mounted:ve,context:i,sortableInstance:d,getRelatedContextFromMoveEvent:q,getTargetedComponent:J,computeFutureIndex:oe}},render(){const t=this.getTag(),e=$o(this.$attrs,this.componentData);if(typeof t=="string"){const n=this.$slots.default&&typeof this.$slots.default=="function"?this.$slots.default():null;return n?(this.transitionMode=wn(n),Et(t,e,n)):Et(t,e,[])}const o=this.$slots.default?{default:this.$slots.default}:{};if(this.$slots.default){const n=typeof this.$slots.default=="function"?this.$slots.default():null;this.transitionMode=wn(n||[])}return Et(t,e,o)}}),Ho=Gt({...Qn(),...Wn()},"VForm"),Jo=Jt()({name:"VForm",props:Ho(),emits:{"update:modelValue":t=>!0,submit:t=>!0},setup(t,e){let{slots:o,emit:n}=e;const a=Gn(t),l=P();function r(s){s.preventDefault(),a.reset()}function u(s){const i=s,d=a.validate();i.then=d.then.bind(d),i.catch=d.catch.bind(d),i.finally=d.finally.bind(d),n("submit",i),i.defaultPrevented||d.then(h=>{let{valid:b}=h;b&&l.value?.submit()}),i.preventDefault()}return Zt(()=>pe("form",{ref:l,class:Bt(["v-form",t.class]),style:Ut(t.style),novalidate:!0,onReset:r,onSubmit:u},[o.default?.(a)])),Kt(a,l)}}),Go=Gt({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...xn(),...Kn()},"VSwitch"),Wo=Jt()({name:"VSwitch",inheritAttrs:!1,props:Go(),emits:{"update:focused":t=>!0,"update:modelValue":t=>!0,"update:indeterminate":t=>!0},setup(t,e){let{attrs:o,slots:n}=e;const a=Mt(t,"indeterminate"),l=Mt(t,"modelValue"),{loaderClasses:r}=eo(t),{isFocused:u,focus:s,blur:i}=Cn(t),d=P(),h=P(),b=$n&&window.matchMedia("(forced-colors: active)").matches,x=nn(()=>typeof t.loading=="string"&&t.loading!==""?t.loading:t.color),D=En(),_=nn(()=>t.id||`switch-${D}`);function T(){a.value&&(a.value=!1)}function H(N){N.stopPropagation(),N.preventDefault(),d.value?.input?.click()}return Zt(()=>{const[N,R]=Dn(o),M=ht.filterProps(t),G=ln.filterProps(t);return m(ht,ft({ref:h,class:["v-switch",{"v-switch--flat":t.flat},{"v-switch--inset":t.inset},{"v-switch--indeterminate":a.value},r.value,t.class]},N,M,{modelValue:l.value,"onUpdate:modelValue":L=>l.value=L,id:_.value,focused:u.value,style:t.style}),{...n,default:L=>{let{id:W,messagesId:ue,isDisabled:U,isReadonly:me,isValid:ee}=L;const te={model:l,isValid:ee};return m(ln,ft({ref:d},G,{modelValue:l.value,"onUpdate:modelValue":[B=>l.value=B,T],id:W.value,"aria-describedby":ue.value,type:"checkbox","aria-checked":a.value?"mixed":void 0,disabled:U.value,readonly:me.value,onFocus:s,onBlur:i},R),{...n,default:B=>{let{backgroundColorClasses:J,backgroundColorStyles:q}=B;return pe("div",{class:Bt(["v-switch__track",b?void 0:J.value]),style:Ut(q.value),onClick:H},[n["track-true"]&&pe("div",{key:"prepend",class:"v-switch__track-true"},[n["track-true"](te)]),n["track-false"]&&pe("div",{key:"append",class:"v-switch__track-false"},[n["track-false"](te)])])},input:B=>{let{inputNode:J,icon:q,backgroundColorClasses:oe,backgroundColorStyles:ve}=B;return pe(mt,null,[J,pe("div",{class:Bt(["v-switch__thumb",{"v-switch__thumb--filled":q||t.loading},t.inset||b?void 0:oe.value]),style:Ut(t.inset?void 0:ve.value)},[n.thumb?m(to,{defaults:{VIcon:{icon:q,size:"x-small"}}},{default:()=>[n.thumb({...te,icon:q})]}):m(io,null,{default:()=>[t.loading?m(oo,{name:"v-switch",active:!0,color:ee.value===!1?void 0:x.value},{default:ie=>n.loader?n.loader(ie):m(ao,{active:ie.isActive,color:ie.color,indeterminate:!0,size:"16",width:"2"},null)}):q&&m(no,{key:String(q),icon:q,size:"x-small"},null)]})])])}})}})}),Kt({},h)}}),Ko=Wt({__name:"FieldEditor",props:{currentItem:{},typeItems:{}},setup(t){const e=t,o=P(),n=[s=>!!(s&&s.trim())||"Name is required",s=>/^[A-Za-z_][A-Za-z0-9_]*$/.test(s||"")||"Use letters, numbers, underscore; start with letter/_"],a=()=>{e.currentItem&&(e.currentItem.name=(e.currentItem.name||"").trim())},l=()=>{e.currentItem&&(e.currentItem.enum=e.currentItem.enum||[],e.currentItem.enum.push({label:"",value:""}))},r=s=>{e.currentItem?.enum&&e.currentItem.enum.splice(s,1)},u=s=>{const i=e.currentItem;if(!i||!i.value_constraints)return;const d=String(s??"").replace(/\D+/g,""),h=d===""?0:parseInt(d,10);i.value_constraints.allow_decimal=Number.isFinite(h)?h:0};return(s,i)=>t.currentItem?(le(),De(xe,{key:0},{default:g(()=>[m(Jo,{ref_key:"editorForm",ref:o},{default:g(()=>[m(jt,null,{default:g(()=>[m(K,{cols:"12",md:"6"},{default:g(()=>[m(Q,{modelValue:t.currentItem.name,"onUpdate:modelValue":i[0]||(i[0]=d=>t.currentItem.name=d),label:"Field Name (unique)",hint:"Used as items[<name>] and form key","persistent-hint":"",rules:n,onBlur:a},null,8,["modelValue"])]),_:1}),m(K,{cols:"12",md:"6"},{default:g(()=>[m(Vn,{modelValue:t.currentItem.type,"onUpdate:modelValue":i[1]||(i[1]=d=>t.currentItem.type=d),items:t.typeItems,label:"Field Type","item-title":"label","item-value":"value",hint:"Determines which input renders (Text/Number/Radio/Select)","persistent-hint":""},null,8,["modelValue","items"])]),_:1}),t.currentItem.display?(le(),De(K,{key:0,cols:"12",md:"6"},{default:g(()=>[m(Q,{modelValue:t.currentItem.display.label,"onUpdate:modelValue":i[2]||(i[2]=d=>t.currentItem.display.label=d),label:"Label",hint:"Shown above the input","persistent-hint":""},null,8,["modelValue"])]),_:1})):Le("",!0),t.currentItem.display?(le(),De(K,{key:1,cols:"12",md:"6"},{default:g(()=>[m(Q,{modelValue:t.currentItem.display.placeholder,"onUpdate:modelValue":i[3]||(i[3]=d=>t.currentItem.display.placeholder=d),label:"Placeholder",hint:"Shown inside the input (where supported)","persistent-hint":""},null,8,["modelValue"])]),_:1})):Le("",!0),t.currentItem.display?(le(),De(K,{key:2,cols:"12",md:"6"},{default:g(()=>[m(Q,{modelValue:t.currentItem.display.hint,"onUpdate:modelValue":i[4]||(i[4]=d=>t.currentItem.display.hint=d),label:"Hint",hint:"Helper text shown under the input","persistent-hint":""},null,8,["modelValue"])]),_:1})):Le("",!0),m(K,{cols:"12",md:"6",class:"d-flex align-center"},{default:g(()=>[m(so,{modelValue:t.currentItem.required,"onUpdate:modelValue":i[5]||(i[5]=d=>t.currentItem.required=d),label:"Required",hint:"Mark field as required","persistent-hint":"","hide-details":"auto"},null,8,["modelValue"])]),_:1}),m(K,{cols:"12",md:"6"},{default:g(()=>[m(Q,{modelValue:t.currentItem.rulesJson,"onUpdate:modelValue":i[6]||(i[6]=d=>t.currentItem.rulesJson=d),label:"Rules (JSON)",hint:'Validation/UI rules, e.g. { "maxlength": 100 }',"persistent-hint":""},null,8,["modelValue"])]),_:1}),m(K,{cols:"12",md:"6"},{default:g(()=>[m(Q,{modelValue:t.currentItem.prefillValue,"onUpdate:modelValue":i[7]||(i[7]=d=>t.currentItem.prefillValue=d),label:"Prefill Value",hint:"Initial value; use a number for Number type","persistent-hint":""},null,8,["modelValue"])]),_:1}),m(K,{cols:"12"},{default:g(()=>[m(Q,{modelValue:t.currentItem.visibleRaw,"onUpdate:modelValue":i[8]||(i[8]=d=>t.currentItem.visibleRaw=d),label:"Visible Rules (string or JSON object)",hint:'Preferred: { "field": "duration", "equals": "full" }',"persistent-hint":""},null,8,["modelValue"])]),_:1}),t.currentItem.type==="Radio"||t.currentItem.type==="Select"?(le(),De(K,{key:3,cols:"12"},{default:g(()=>[m(sn,{class:"my-2"}),i[13]||(i[13]=pe("div",{class:"text-subtitle-2 mb-2"},"Options",-1)),(le(!0),Be(mt,null,In(t.currentItem.enum,(d,h)=>(le(),Be("div",{key:h,class:"d-flex align-center mb-2 gap-2"},[m(Q,{modelValue:d.label,"onUpdate:modelValue":b=>d.label=b,label:"Label",density:"comfortable","hide-details":"",class:"mr-2"},null,8,["modelValue","onUpdate:modelValue"]),m(Q,{modelValue:d.value,"onUpdate:modelValue":b=>d.value=b,label:"Value",density:"comfortable","hide-details":"",class:"mr-2"},null,8,["modelValue","onUpdate:modelValue"]),m(se,{icon:"mdi-delete",variant:"text",color:"error",onClick:b=>r(h)},null,8,["onClick"])]))),128)),m(se,{size:"small",variant:"elevated",color:"primary","prepend-icon":"mdi-plus-circle",onClick:l},{default:g(()=>[...i[12]||(i[12]=[Y("Add Option",-1)])]),_:1})]),_:1})):Le("",!0),t.currentItem.type==="Number"&&t.currentItem.value_constraints?(le(),De(K,{key:4,cols:"12"},{default:g(()=>[m(sn,{class:"my-2"}),i[14]||(i[14]=pe("div",{class:"text-subtitle-2 mb-2"},"Number Constraints",-1)),m(jt,null,{default:g(()=>[m(K,{cols:"12",md:"6"},{default:g(()=>[m(Q,{modelValue:t.currentItem.value_constraints.maximum,"onUpdate:modelValue":i[9]||(i[9]=d=>t.currentItem.value_constraints.maximum=d),modelModifiers:{number:!0},label:"Maximum",type:"number",hint:"Optional upper bound","persistent-hint":""},null,8,["modelValue"])]),_:1}),m(K,{cols:"12",md:"6"},{default:g(()=>[m(Q,{modelValue:t.currentItem.value_constraints.minimum,"onUpdate:modelValue":i[10]||(i[10]=d=>t.currentItem.value_constraints.minimum=d),modelModifiers:{number:!0},label:"Minimum",type:"number",hint:"Optional lower bound","persistent-hint":""},null,8,["modelValue"])]),_:1}),m(K,{cols:"12",md:"6"},{default:g(()=>[m(Q,{"model-value":String(t.currentItem.value_constraints.allow_decimal??""),type:"text",inputmode:"numeric",pattern:"\\\\d*",label:"Allow Decimal Places",hint:"0 = integers only; 2 = up to 2 decimal places","persistent-hint":"","onUpdate:modelValue":u},null,8,["model-value"])]),_:1}),m(K,{cols:"12",md:"6"},{default:g(()=>[m(Wo,{modelValue:t.currentItem.value_constraints.allow_negative,"onUpdate:modelValue":i[11]||(i[11]=d=>t.currentItem.value_constraints.allow_negative=d),inset:"",color:"primary",label:"Allow Negative Numbers",hint:"Enable to allow a leading minus sign","persistent-hint":""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})):Le("",!0)]),_:1})]),_:1},512)]),_:1})):(le(),De(xe,{key:1},{default:g(()=>[...i[15]||(i[15]=[Y(" Select a field to start editing. ",-1)])]),_:1}))}}),Zo=Object.assign(Ko,{__name:"BuilderFieldEditor"}),Qo=qn("builder",()=>{const t=P("step"),e=P("My Schema"),o=P(""),n=P([]),a=P(null);return{schemaName:t,schemaLabel:e,schemaEndpoint:o,items:n,selectedIndex:a}}),ea={key:0,class:"text-medium-emphasis"},ta={class:"d-flex align-center gap-4"},na={class:"text-body-2"},oa={class:"d-flex align-center gap-2"},aa={key:0,class:"text-medium-emphasis"},Sn="schemaBuilder.schemas",da=Wt({__name:"builder",setup(t){const e=Qo(),{schemaName:o,schemaLabel:n,schemaEndpoint:a,items:l,selectedIndex:r}=zn(e),u=Hn(),s=[{label:"Text",value:"Text"},{label:"Number",value:"Number"},{label:"Radio",value:"Radio"},{label:"Select",value:"Select"}],i=()=>Math.random().toString(36).slice(2),d=()=>({__key:i(),name:"",type:"Text",display:{label:""},required:!1,rules:{},rulesJson:"{}",enum:[],value_constraints:{maximum:void 0,minimum:void 0,allow_decimal:0,allow_negative:!1},visibleRaw:"",prefillValue:""}),h=P([]),b=P(!1),x=P(!1),D=P(""),_=P(""),T=P(""),H=()=>{let w=l.value.length+1;for(;;){const f=`field_${w}`;if(!l.value.some(c=>(c.name||"").trim()===f))return f;w++}},N=()=>{const w=d();w.name=H(),l.value.push(w),r.value=l.value.length-1},R=w=>{l.value.splice(w,1),r.value===w&&(r.value=null)},M=w=>{r.value=w},G=P(null);_t(r,w=>{if(w===null)G.value=null;else{const f=l.value[w];G.value=f?f.__key:null}});const L=()=>{if(!G.value)return;const w=l.value.findIndex(f=>f.__key===G.value);r.value=w>=0?w:null},W=Lt(()=>r.value!==null?l.value[r.value]:null),ue=()=>{const w={};for(const f of l.value){const v=f.name?.trim()||"schema";let c;const y=f.visibleRaw?.trim();if(y)if(y.startsWith("{"))try{c=JSON.parse(y)}catch{c=y}else c=y;const I=f.prefillValue!==void 0&&f.prefillValue!==""?{value:f.type==="Number"&&!Number.isNaN(Number(f.prefillValue))?Number(f.prefillValue):f.prefillValue}:void 0;w[v]={name:v,display:{...f.display},required:!!f.required,rules:f.rules??{},type:f.type,enum:f.type==="Radio"||f.type==="Select"?f.enum?.filter(j=>j.label||j.value):void 0,value_constraints:f.type==="Number"?f.value_constraints:void 0,visible:c,prefill:I}}return{name:o.value,label:n.value,endpoint:a.value,items:w}},U=Lt(()=>ue()),me=()=>{const w=localStorage.getItem("schemaBuilder.schemas");if(w)try{const v=JSON.parse(w).filter(c=>c.name===u.query.name)[0];if(!v)return;o.value=v.name,n.value=v.label,a.value=v.endpoint,l.value=(v.items||[]).map(c=>({__key:i(),name:c.name??"",type:c.type??"Text",display:c.display??{label:""},required:!!c.required,rules:c.rules??{},rulesJson:JSON.stringify(c.rules??{}),enum:c.enum??[],value_constraints:c.value_constraints?{maximum:c.value_constraints.maximum,minimum:c.value_constraints.minimum,allow_decimal:c.value_constraints.allow_decimal??0,allow_negative:typeof c.value_constraints.allow_negative=="boolean"?c.value_constraints.allow_negative:c.value_constraints.allow_negative===1}:{maximum:void 0,minimum:void 0,allow_decimal:0,allow_negative:!1},visibleRaw:c.visibleRaw!==void 0&&c.visibleRaw!==null?String(c.visibleRaw):typeof c.visible=="object"?JSON.stringify(c.visible):c.visible??"",prefillValue:c.prefill?.value??""}))}catch{}},ee=()=>{const w=JSON.stringify(ue(),null,2),f=new Blob([w],{type:"application/json"}),v=URL.createObjectURL(f),c=document.createElement("a");c.href=v;const y=(o.value||"schema").trim()||"schema";c.download=`${y}.json`,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(v)},te=()=>{try{const w=localStorage.getItem(Sn);if(w)return JSON.parse(w)}catch{}return[]},B=w=>{localStorage.setItem(Sn,JSON.stringify(w))},J=()=>{h.value=te()},q=()=>{D.value=o.value,_.value=n.value,b.value=!0},oe=()=>{const w=(D.value||"").trim();if(!w)return;const f={name:w,label:_.value,endpoint:a.value,items:l.value},v=te(),c=v.findIndex(y=>y.name===w);c>=0?v[c]=f:v.push(f),B(v),J(),o.value=w,n.value=_.value,b.value=!1},ve=()=>{J(),T.value=h.value[0]?.name||"",x.value=!0},ie=()=>{const w=T.value,f=h.value.find(v=>v.name===w);f&&(o.value=f.name,n.value=f.label||"",l.value=(f.items||[]).map(v=>({__key:i(),name:v.name??"",type:v.type??"Text",display:v.display??{label:""},required:!!v.required,rules:v.rules??{},rulesJson:JSON.stringify(v.rules??{}),enum:v.enum??[],value_constraints:v.value_constraints?{maximum:v.value_constraints.maximum,minimum:v.value_constraints.minimum,allow_decimal:v.value_constraints.allow_decimal??0,allow_negative:typeof v.value_constraints.allow_negative=="boolean"?v.value_constraints.allow_negative:v.value_constraints.allow_negative===1}:{maximum:void 0,minimum:void 0,allow_decimal:0,allow_negative:!1},visibleRaw:v.visibleRaw!==void 0&&v.visibleRaw!==null?String(v.visibleRaw):typeof v.visible=="object"?JSON.stringify(v.visible):v.visible??"",prefillValue:v.prefill?.value??""})),r.value=l.value.length?0:null,x.value=!1)},$e=w=>{const f=te().filter(v=>v.name!==w);B(f),J(),T.value===w&&(T.value="")};return _n(()=>{if(u.query.name)try{me()}catch{}}),_t(W,w=>{if(w)try{w.rulesJson=JSON.stringify(w.rules??{},null,0)}catch{}}),_t(()=>W.value?.rulesJson,w=>{const f=W.value;if(f)try{f.rules=w?JSON.parse(w):{}}catch{}}),(w,f)=>(le(),Be(mt,null,[m(lo,{class:"pa-6"},{default:g(()=>[m(jt,null,{default:g(()=>[m(K,{cols:"12",md:"12"},{default:g(()=>[m(Ne,{class:"mb-6",variant:"elevated"},{default:g(()=>[m(Fe,null,{default:g(()=>[...f[12]||(f[12]=[Y("Schema Settings",-1)])]),_:1}),m(xe,{class:"mt-4"},{default:g(()=>[m(Q,{modelValue:Ee(o),"onUpdate:modelValue":f[0]||(f[0]=v=>tt(o)?o.value=v:null),label:"Schema Name",hint:"Saved as schema.name in JSON","persistent-hint":"",density:"comfortable",class:"mb-4"},null,8,["modelValue"]),m(Q,{modelValue:Ee(n),"onUpdate:modelValue":f[1]||(f[1]=v=>tt(n)?n.value=v:null),label:"Schema Label",hint:"Optional display title for the schema","persistent-hint":"",density:"comfortable",class:"mb-4"},null,8,["modelValue"]),m(Q,{modelValue:Ee(a),"onUpdate:modelValue":f[2]||(f[2]=v=>tt(a)?a.value=v:null),label:"Endpoint URL",hint:"POST URL used by the Form page when submitting","persistent-hint":"",density:"comfortable",class:"mb-4"},null,8,["modelValue"])]),_:1}),m(nt,null,{default:g(()=>[m(se,{color:"primary",variant:"elevated",onClick:q,"prepend-icon":"mdi-content-save"},{default:g(()=>[...f[13]||(f[13]=[Y("Save As",-1)])]),_:1}),m(se,{color:"primary",variant:"tonal",onClick:ve,"prepend-icon":"mdi-view-list"},{default:g(()=>[...f[14]||(f[14]=[Y("Load",-1)])]),_:1}),m(It),m(se,{color:"primary",variant:"outlined",onClick:ee,"prepend-icon":"mdi-file-export"},{default:g(()=>[...f[15]||(f[15]=[Y("Export",-1)])]),_:1})]),_:1})]),_:1}),m(Ne,null,{default:g(()=>[m(Fe,null,{default:g(()=>[...f[16]||(f[16]=[Y("Fields (Drag to reorder)",-1)])]),_:1}),m(xe,{class:"mt-4"},{default:g(()=>[Ee(l).length===0?(le(),Be("div",ea,' No fields yet. Click "Add Field" to get started. ')):Le("",!0),m(Ee(zo),{modelValue:Ee(l),"onUpdate:modelValue":f[3]||(f[3]=v=>tt(l)?l.value=v:null),"item-key":"__key",handle:".drag-handle",onChange:L},{default:g(()=>[(le(!0),Be(mt,null,In(Ee(l),(v,c)=>(le(),De(Ne,{key:v.__key,class:"mb-2",color:Ee(r)===c?"black":void 0,variant:Ee(r)===c?"outlined":"elevated"},{default:g(()=>[m(xe,{class:"d-flex align-center justify-space-between"},{default:g(()=>[pe("div",ta,[m(se,{icon:"mdi-drag",variant:"text",class:"drag-handle"}),pe("div",na,[pe("strong",null,on(v.name||"(unnamed)"),1),Y(" - "+on(v.type),1)])]),pe("div",oa,[m(se,{size:"small",color:"primary",variant:"tonal","prepend-icon":"mdi-file-edit",onClick:y=>M(c)},{default:g(()=>[...f[17]||(f[17]=[Y("Edit",-1)])]),_:1},8,["onClick"]),m(se,{size:"small",color:"error",variant:"text",onClick:y=>R(c),"prepend-icon":"mdi-delete"},{default:g(()=>[...f[18]||(f[18]=[Y("Remove",-1)])]),_:1},8,["onClick"])])]),_:2},1024)]),_:2},1032,["color","variant"]))),128))]),_:1},8,["modelValue"])]),_:1}),m(nt,null,{default:g(()=>[m(se,{color:"primary",variant:"elevated",onClick:N,"prepend-icon":"mdi-plus-circle"},{default:g(()=>[...f[19]||(f[19]=[Y("Add Field",-1)])]),_:1})]),_:1})]),_:1})]),_:1}),m(K,{cols:"12",md:"12"},{default:g(()=>[m(Ne,null,{default:g(()=>[m(Fe,{class:"mb-4"},{default:g(()=>[...f[20]||(f[20]=[Y("Field Editor",-1)])]),_:1}),m(Zo,{"current-item":W.value,"type-items":s},null,8,["current-item"])]),_:1}),m(Ne,{class:"mt-6"},{default:g(()=>[m(Fe,null,{default:g(()=>[...f[21]||(f[21]=[Y("Live Preview",-1)])]),_:1}),m(xe,{class:"mt-4"},{default:g(()=>[m(Zn,{schema:U.value},null,8,["schema"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),m(rn,{modelValue:b.value,"onUpdate:modelValue":f[7]||(f[7]=v=>b.value=v),"max-width":"520"},{default:g(()=>[m(Ne,null,{default:g(()=>[m(Fe,null,{default:g(()=>[...f[22]||(f[22]=[Y("Save Schema As",-1)])]),_:1}),m(xe,null,{default:g(()=>[m(Q,{modelValue:D.value,"onUpdate:modelValue":f[4]||(f[4]=v=>D.value=v),label:"Name",hint:"Unique schema name","persistent-hint":"",class:"mb-4"},null,8,["modelValue"]),m(Q,{modelValue:_.value,"onUpdate:modelValue":f[5]||(f[5]=v=>_.value=v),label:"Label",hint:"Optional display label","persistent-hint":""},null,8,["modelValue"])]),_:1}),m(nt,null,{default:g(()=>[m(It),m(se,{onClick:f[6]||(f[6]=v=>b.value=!1),variant:"outlined","prepend-icon":"mdi-close-circle"},{default:g(()=>[...f[23]||(f[23]=[Y("Cancel",-1)])]),_:1}),m(se,{color:"primary",onClick:oe,variant:"elevated","prepend-icon":"mdi-content-save"},{default:g(()=>[...f[24]||(f[24]=[Y("Save",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),m(rn,{modelValue:x.value,"onUpdate:modelValue":f[11]||(f[11]=v=>x.value=v),"max-width":"640"},{default:g(()=>[m(Ne,null,{default:g(()=>[m(Fe,null,{default:g(()=>[...f[25]||(f[25]=[Y("Load Saved Schema",-1)])]),_:1}),m(xe,null,{default:g(()=>[h.value.length===0?(le(),Be("div",aa," No saved schemas found. ")):(le(),De(Vn,{key:1,modelValue:T.value,"onUpdate:modelValue":f[8]||(f[8]=v=>T.value=v),items:h.value.map(v=>v.name),label:"Select a schema"},null,8,["modelValue","items"]))]),_:1}),m(nt,null,{default:g(()=>[m(se,{variant:"text",color:"error",disabled:!T.value,onClick:f[9]||(f[9]=v=>$e(T.value)),"prepend-icon":"mdi-delete"},{default:g(()=>[...f[26]||(f[26]=[Y("Delete",-1)])]),_:1},8,["disabled"]),m(It),m(se,{onClick:f[10]||(f[10]=v=>x.value=!1),"prepend-icon":"mdi-close-circle",variant:"outlined"},{default:g(()=>[...f[27]||(f[27]=[Y("Cancel",-1)])]),_:1}),m(se,{color:"primary",disabled:!T.value,variant:"elevated",onClick:ie,"prepend-icon":"mdi-view-list"},{default:g(()=>[...f[28]||(f[28]=[Y("Load",-1)])]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}});export{da as default};
